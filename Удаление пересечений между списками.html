<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<link rel="icon" type="image/png" href="favicon.png">
<title>–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å–ø–∏—Å–∫–æ–≤ | Text Tool</title>
<style>
  /* üé® –¶–≤–µ—Ç–æ–≤–∞—è –ø–∞–ª–∏—Ç—Ä–∞ –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ–º */
  :root {
    --bg-light: #f5f5f5;
    --bg-dark: #1e1e1e;
    --fg-light: #1a1a1a;
    --fg-dark: #e0e0e0;
    --accent: #0078d7;       /* –°–∏–Ω–∏–π –∞–∫—Ü–µ–Ω—Ç, –∫–∞–∫ –≤ VS Code */
    --border: #3c3c3c;
    --button-bg: #2d2d2d;
    --button-hover: #3a3a3a;
    --success: #4caf50;      /* –ó–µ–ª—ë–Ω—ã–π ‚Äî —É—Å–ø–µ—Ö */
    --warning: #ff9800;      /* –û—Ä–∞–Ω–∂–µ–≤—ã–π ‚Äî –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ */
    --error: #e53935;        /* –ö—Ä–∞—Å–Ω—ã–π ‚Äî –æ—à–∏–±–∫–∞ */
  }

  /* üß± –ë–∞–∑–æ–≤—ã–µ —Å—Ç–∏–ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã */
  body {
    font-family: 'Segoe UI', 'Fira Code', monospace;
    padding: 20px;
    background: var(--bg-light);
    color: var(--fg-light);
    transition: background 0.3s, color 0.3s;
  }

  h1 {
    color: var(--accent);
    font-weight: 500;
    margin-bottom: 20px;
  }

  /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –¥–≤—É–º—è –ø–æ–ª—è–º–∏ */
  .container {
    display: flex;
    gap: 15px;
    flex-wrap: wrap;
  }

  /* –ü–æ–ª—è –≤–≤–æ–¥–∞ (textarea) */
  textarea {
    width: 45%;
    height: 250px;
    font-family: inherit;
    border-radius: 8px;
    border: 1px solid #ccc;
    padding: 10px;
    resize: vertical;
    background: #fff;
    color: #000;
    transition: background 0.3s, color 0.3s, border 0.3s;
  }

  /* –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è */
  button {
    padding: 10px 16px;
    margin: 5px 5px 10px 0;
    border: none;
    border-radius: 8px;
    background: var(--button-bg);
    color: var(--fg-dark);
    cursor: pointer;
    transition: background 0.2s, transform 0.1s;
  }

  /* –≠—Ñ—Ñ–µ–∫—Ç—ã –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ */
  button:hover {
    background: var(--button-hover);
    transform: translateY(-1px);
  }

  button:active {
    transform: translateY(1px);
  }

  /* –°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –∫–Ω–æ–ø–∫–∞ —Å –∞–∫—Ü–µ–Ω—Ç–æ–º (–æ—Å–Ω–æ–≤–Ω–∞—è) */
  .btn-accent {
    background: var(--accent);
    color: white;
  }

  .btn-accent:hover {
    background: #0a84ff;
  }

  /* –ë–ª–æ–∫ –≤—ã–≤–æ–¥–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ */
  pre {
    background: #2b2b2b;
    color: var(--fg-dark);
    padding: 12px;
    border-radius: 8px;
    white-space: pre-wrap;
    border: 1px solid var(--border);
    margin-top: 10px;
    transition: background 0.3s, color 0.3s;
  }

  /* üåô –¢—ë–º–Ω–∞—è —Ç–µ–º–∞ */
  body.dark {
    background-color: var(--bg-dark);
    color: var(--fg-dark);
  }

  body.dark textarea {
    background-color: #252526;
    color: var(--fg-dark);
    border: 1px solid var(--border);
  }

  body.dark button {
    background-color: var(--button-bg);
    border: 1px solid var(--border);
  }

  body.dark pre {
    background-color: #1e1e1e;
    border: 1px solid var(--border);
  }

  /* üí¨ –¶–≤–µ—Ç–∞ —Ç–µ–∫—Å—Ç–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ */
  .success { color: var(--success); }
  .warning { color: var(--warning); }
  .error { color: var(--error); }

</style>
</head>
<body>
  <h1>üß© –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫ –∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å–ø–∏—Å–∫–æ–≤</h1>

  <div class="container">
    <textarea id="list1" placeholder="–°–ø–∏—Å–æ–∫ 1... (–∏–∑ —ç—Ç–æ–≥–æ –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã —Å—Ç—Ä–æ–∫–∏)"></textarea>
    <textarea id="list2" placeholder="–°–ø–∏—Å–æ–∫ 2... (—Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Ç—Ä–æ–∫–∏ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è)"></textarea>
  </div>

  <!-- üîò –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
  <div>
    <button class="btn-accent" onclick="removeMatches()">–£–¥–∞–ª–∏—Ç—å —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –∏–∑ –°–ø–∏—Å–∫–∞ 1</button>
    <button onclick="removeDuplicates()">–£–¥–∞–ª–∏—Ç—å –¥—É–±–ª–∏–∫–∞—Ç—ã (–≤ –°–ø–∏—Å–∫–µ 1)</button>
    <button onclick="clearLists()">–û—á–∏—Å—Ç–∏—Ç—å —Å–ø–∏—Å–∫–∏</button>
    <button onclick="copyList()">üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç</button>
    <button id="themeToggle" onclick="toggleTheme()">üåô –¢—ë–º–Ω–∞—è —Ç–µ–º–∞</button>
  </div>

  <!-- üìä –ë–ª–æ–∫ –¥–ª—è –≤—ã–≤–æ–¥–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ -->
  <pre id="output"></pre>

<script>
/* üîπ –ü–æ–ª—É—á–∞–µ–º —Å–ø–∏—Å–æ–∫ —Å—Ç—Ä–æ–∫ –∏–∑ textarea */
function getList(id) {
  return document.getElementById(id).value
    .split(/\r?\n/)      // –†–∞–∑–¥–µ–ª—è–µ–º –ø–æ —Å—Ç—Ä–æ–∫–∞–º
    .map(x => x.trim())  // –£–±–∏—Ä–∞–µ–º –ø—Ä–æ–±–µ–ª—ã
    .filter(Boolean);    // –£–±–∏—Ä–∞–µ–º –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏
}

/* üßÆ –£–¥–∞–ª–µ–Ω–∏–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π –º–µ–∂–¥—É —Å–ø–∏—Å–∫–∞–º–∏ */
function removeMatches() {
  const list1 = getList('list1');
  const list2 = getList('list2');
  const set2 = new Set(list2);
  const filtered = list1.filter(x => !set2.has(x)); // –£–¥–∞–ª—è–µ–º –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è
  const removedCount = list1.length - filtered.length;

  document.getElementById('list1').value = filtered.join('\n');

  const output = document.getElementById('output');
  if (removedCount > 0) {
    output.textContent = `‚úÖ –£–¥–∞–ª–µ–Ω–æ —Å—Ç—Ä–æ–∫: ${removedCount}\n–û—Å—Ç–∞–ª–æ—Å—å —Å—Ç—Ä–æ–∫: ${filtered.length}`;
    output.className = 'success';
  } else {
    output.textContent = `‚ö†Ô∏è –°–æ–≤–ø–∞–¥–µ–Ω–∏–π –Ω–µ –Ω–∞–π–¥–µ–Ω–æ.`;
    output.className = 'warning';
  }
}

/* üîÅ –£–¥–∞–ª–µ–Ω–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –≤–Ω—É—Ç—Ä–∏ –ø–µ—Ä–≤–æ–≥–æ —Å–ø–∏—Å–∫–∞ */
function removeDuplicates() {
  const list1 = getList('list1');
  const unique = [...new Set(list1)];
  const removedCount = list1.length - unique.length;

  document.getElementById('list1').value = unique.join('\n');
  const output = document.getElementById('output');

  if (removedCount > 0) {
    output.textContent = `‚úÖ –£–¥–∞–ª–µ–Ω–æ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤: ${removedCount}`;
    output.className = 'success';
  } else {
    output.textContent = `‚ö†Ô∏è –î—É–±–ª–∏–∫–∞—Ç—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã.`;
    output.className = 'warning';
  }
}

/* üßπ –û—á–∏—Å—Ç–∫–∞ –æ–±–æ–∏—Ö —Å–ø–∏—Å–∫–æ–≤ */
function clearLists() {
  document.getElementById('list1').value = '';
  document.getElementById('list2').value = '';
  const output = document.getElementById('output');
  output.textContent = 'üßº –°–ø–∏—Å–∫–∏ –æ—á–∏—â–µ–Ω—ã.';
  output.className = 'success';
}

/* üìã –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –∏–∑ –ø–µ—Ä–≤–æ–≥–æ —Å–ø–∏—Å–∫–∞ */
function copyList() {
  const list1 = document.getElementById('list1');
  if (!list1.value.trim()) {
    const output = document.getElementById('output');
    output.textContent = '‚ö†Ô∏è –ù–µ—á–µ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å.';
    output.className = 'warning';
    return;
  }
  list1.select();
  document.execCommand('copy');

  const output = document.getElementById('output');
  output.textContent = 'üìã –†–µ–∑—É–ª—å—Ç–∞—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞.';
  output.className = 'success';
}

/* üåó –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç—ë–º–Ω–æ–π/—Å–≤–µ—Ç–ª–æ–π —Ç–µ–º—ã */
function toggleTheme() {
  const body = document.body;
  const btn = document.getElementById('themeToggle');
  const isDark = body.classList.toggle('dark');
  btn.textContent = isDark ? '‚òÄÔ∏è –°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞' : 'üåô –¢—ë–º–Ω–∞—è —Ç–µ–º–∞';
  localStorage.setItem('theme', isDark ? 'dark' : 'light');
}

/* üîÑ –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–µ–º—É –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ */
window.addEventListener('DOMContentLoaded', () => {
  const savedTheme = localStorage.getItem('theme');
  const btn = document.getElementById('themeToggle');
  if (savedTheme === 'dark') {
    document.body.classList.add('dark');
    btn.textContent = '‚òÄÔ∏è –°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞';
  }
});
</script>
</body>
</html>